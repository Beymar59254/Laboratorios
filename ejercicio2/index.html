<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Bootstrap - Ejercicio 2</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .calculator-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            max-width: 420px;
            width: 100%;
        }

        .calculator-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            text-align: center;
        }

        .calculator-header h2 {
            margin: 0;
            font-weight: 600;
        }

        .calculator-header p {
            margin: 5px 0 0 0;
            opacity: 0.9;
            font-size: 0.9rem;
        }

        .calculator-body {
            padding: 30px;
        }

        .form-label {
            font-weight: 500;
            color: #333;
        }

        .form-control {
            border-radius: 10px;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn-operation {
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
        }

        .btn-operation:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        }

        .btn-sum {
            background: #28a745;
            color: white;
        }

        .btn-sub {
            background: #dc3545;
            color: white;
        }

        .btn-mult {
            background: #ffc107;
            color: #333;
        }

        .btn-div {
            background: #17a2b8;
            color: white;
        }

        .btn-clear {
            background: #6c757d;
            color: white;
            border-radius: 10px;
            padding: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-clear:hover {
            background: #5a6268;
        }

        .result-box {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 20px;
            margin-top: 25px;
            text-align: center;
            display: none;
        }

        .result-box.show {
            display: block;
            animation: slideDown 0.4s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-label {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .result-value {
            color: #667eea;
            font-size: 2rem;
            font-weight: 700;
        }

        .back-btn {
            display: inline-block;
            margin-top: 20px;
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            color: white;
            text-decoration: underline;
        }

        /* Animación de carga */
        .loading {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <div class="calculator-card">
        <!-- Encabezado -->
        <div class="calculator-header">
            <h2><i class="fas fa-calculator me-2"></i>Calculadora</h2>
            <p>Ejercicio 2 - Bootstrap 5 & jQuery</p>
        </div>

        <!-- Cuerpo -->
        <div class="calculator-body">
            <form id="calculatorForm">
                <!-- Primer Número -->
                <div class="mb-3">
                    <label for="num1" class="form-label">
                        <i class="fas fa-number me-2"></i>Primer Número
                    </label>
                    <input type="text" class="form-control" id="num1" placeholder="Ingrese el primer número">
                </div>

                <!-- Segundo Número -->
                <div class="mb-3">
                    <label for="num2" class="form-label">
                        <i class="fas fa-number me-2"></i>Segundo Número
                    </label>
                    <input type="text" class="form-control" id="num2" placeholder="Ingrese el segundo número">
                </div>

                <!-- Botones de Operaciones -->
                <div class="row g-2 mb-3">
                    <div class="col-6">
                        <button type="button" class="btn btn-operation btn-sum w-100" id="btnSum">
                            <i class="fas fa-plus me-2"></i> Sumar
                        </button>
                    </div>
                    <div class="col-6">
                        <button type="button" class="btn btn-operation btn-sub w-100" id="btnSub">
                            <i class="fas fa-minus me-2"></i> Restar
                        </button>
                    </div>
                    <div class="col-6">
                        <button type="button" class="btn btn-operation btn-mult w-100" id="btnMult">
                            <i class="fas fa-times me-2"></i> Multiplicar
                        </button>
                    </div>
                    <div class="col-6">
                        <button type="button" class="btn btn-operation btn-div w-100" id="btnDiv">
                            <i class="fas fa-divide me-2"></i> Dividir
                        </button>
                    </div>
                </div>

                <!-- Botón Limpiar -->
                <button type="button" class="btn btn-clear w-100" id="btnClear">
                    <i class="fas fa-trash me-2"></i>Limpiar
                </button>
            </form>

            <!-- Resultado -->
            <div id="resultBox" class="result-box">
                <div class="result-label">Resultado:</div>
                <div id="resultValue" class="result-value"></div>
            </div>
        </div>
    </div>

    <!-- Enlace Volver -->
    <div class="text-center">
        <a href="../index.html" class="back-btn">
            <i class="fas fa-arrow-left me-1"></i> Volver al inicio
        </a>
    </div>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        $(document).ready(function() {
            /**
             * Función para validar que los campos no estén vacíos y sean números
             * @returns {object|null} - Retorna los valores validados o null si hay error
             */
            function validarCampos() {
                // Obtener los valores de los inputs
                const num1 = $('#num1').val().trim();
                const num2 = $('#num2').val().trim();

                // Validar que el primer campo no esté vacío
                if (num1 === '') {
                    Swal.fire({
                        icon: 'error',
                        title: 'Campo Vacío',
                        text: 'El primer campo está vacío. Por favor ingrese un número.',
                        confirmButtonColor: '#667eea'
                    });
                    return null;
                }

                // Validar que el segundo campo no esté vacío
                if (num2 === '') {
                    Swal.fire({
                        icon: 'error',
                        title: 'Campo Vacío',
                        text: 'El segundo campo está vacío. Por favor ingrese un número.',
                        confirmButtonColor: '#667eea'
                    });
                    return null;
                }

                // Convertir a número decimal (parseFloat)
                const numero1 = parseFloat(num1);
                const numero2 = parseFloat(num2);

                // Validar que sean números válidos (no NaN)
                if (isNaN(numero1)) {
                    Swal.fire({
                        icon: 'error',
                        title: 'Valor Inválido',
                        text: 'El primer valor no es un número válido.',
                        confirmButtonColor: '#667eea'
                    });
                    return null;
                }

                if (isNaN(numero2)) {
                    Swal.fire({
                        icon: 'error',
                        title: 'Valor Inválido',
                        text: 'El segundo valor no es un número válido.',
                        confirmButtonColor: '#667eea'
                    });
                    return null;
                }

                // Retornar los valores válidos
                return { num1: numero1, num2: numero2 };
            }

            /**
             * Función para mostrar el resultado con animación
             * @param {number} resultado - El resultado de la operación
             */
            function mostrarResultado(resultado) {
                // Formatear el resultado
                let resultadoFormateado = resultado.toFixed(2);
                // Eliminar ceros finales innecesarios
                resultadoFormateado = parseFloat(resultadoFormateado);

                // Mostrar con SweetAlert
                Swal.fire({
                    icon: 'success',
                    title: '¡Resultado!',
                    text: 'El resultado es: ' + resultadoFormateado,
                    confirmButtonColor: '#28a745',
                    timer: 3000
                });

                // Mostrar en el div
                $('#resultValue').text(resultadoFormateado);
                $('#resultBox').addClass('show');
            }

            /**
             * Función para realizar la suma
             */
            $('#btnSum').click(function() {
                const valores = validarCampos();
                
                if (valores !== null) {
                    const resultado = valores.num1 + valores.num2;
                    mostrarResultado(resultado);
                }
            });

            /**
             * Función para realizar la resta
             */
            $('#btnSub').click(function() {
                const valores = validarCampos();
                
                if (valores !== null) {
                    const resultado = valores.num1 - valores.num2;
                    mostrarResultado(resultado);
                }
            });

            /**
             * Función para realizar la multiplicación
             */
            $('#btnMult').click(function() {
                const valores = validarCampos();
                
                if (valores !== null) {
                    const resultado = valores.num1 * valores.num2;
                    mostrarResultado(resultado);
                }
            });

            /**
             * Función para realizar la división
             */
            $('#btnDiv').click(function() {
                const valores = validarCampos();
                
                if (valores !== null) {
                    // Validar que no se divida entre cero
                    if (valores.num2 === 0) {
                        Swal.fire({
                            icon: 'error',
                            title: 'División Inválida',
                            text: 'No es posible dividir entre cero.',
                            confirmButtonColor: '#667eea'
                        });
                        return;
                    }
                    
                    const resultado = valores.num1 / valores.num2;
                    mostrarResultado(resultado);
                }
            });

            /**
             * Función para limpiar los campos y el resultado
             */
            $('#btnClear').click(function() {
                // Limpiar los inputs
                $('#num1').val('');
                $('#num2').val('');
                
                // Ocultar el resultado
                $('#resultBox').removeClass('show');
                $('#resultValue').text('');
                
                // Enfocar el primer campo
                $('#num1').focus();

                // Mostrar mensaje de confirmación
                Swal.fire({
                    icon: 'info',
                    title: 'Limpiar',
                    text: 'Campos limpiados correctamente.',
                    confirmButtonColor: '#667eea',
                    timer: 1500
                });
            });

            // Validación en tiempo real mientras escribe
            $('#num1, #num2').on('input', function() {
                // Opcional: agregar validación en tiempo real
            });
        });
    </script>
</body>
</html>
